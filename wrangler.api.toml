name = "msgstats-api"
compatibility_date = "2026-01-01"
compatibility_flags = ["nodejs_compat"]
main = "workers/api/worker.ts"

[vars]
META_REDIRECT_URI = "https://msgstats.from-trees.com/api/auth/callback"

[[d1_databases]]
binding = "DB"
database_name = "msgstats-db"
database_id = "b1918df0-760c-41f1-9778-9d5f95ab9a41"

[queues]

[[queues.producers]]
binding = "SYNC_QUEUE"
queue = "msgstats-sync"

[[queues.consumers]]
queue = "msgstats-sync"
max_batch_size = 1
[observability]
[observability.logs]
enabled = true
invocation_logs = true
